<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="multilevelcoda">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/5/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Multilevel Model with Compositional Outcomes • multilevelcoda</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Multilevel Model with Compositional Outcomes">
<meta property="og:description" content="multilevelcoda">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/5/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">multilevelcoda</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/A-introduction.html">Introduction to Bayesian Compositional Multilevel Modelling</a>
    <a class="dropdown-item" href="../articles/B-composition-MLM.html">Multilevel Models with Compositional Predictors</a>
    <a class="dropdown-item" href="../articles/C-composition-MMLM.html">Multilevel Model with Compositional Outcomes</a>
    <a class="dropdown-item" href="../articles/D-substitution-model.html">Compositional Substitution Multilevel Models</a>
    <a class="dropdown-item" href="../articles/E-simmodel-diag.html">Improving MCMC Sampling for Bayesian Compositional Multilevel Models</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/florale/multilevelcoda/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>

        
        
        
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Multilevel Model with Compositional Outcomes</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/florale/multilevelcoda/blob/HEAD/vignettes/C-composition-MMLM.Rmd" class="external-link"><code>vignettes/C-composition-MMLM.Rmd</code></a></small>
      <div class="d-none name"><code>C-composition-MMLM.Rmd</code></div>
    </div>

    
    
<p>In this vignette, we discuss how to specify multilevel models with
compositional outcomes using <code>multilevelcoda</code>. In addition to
<code>multilevelcoda</code>, we will use <code>brms</code> package (to
fit models) and <code>bayestestR</code> package (to compute useful
indices and compare models). We will also attach built in datasets
<code>mcompd</code> (simulated compositional sleep and wake variables)
and <code>sbp</code> (sequential binary partition).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://florale.github.io/multilevelcoda/">multilevelcoda</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/paul-buerkner/brms" class="external-link">brms</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/bayestestR/" class="external-link">bayestestR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"mcompd"</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sbp"</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="multilevel-model-with-compositional-outcomes-">Multilevel model with compositional outcomes.<a class="anchor" aria-label="anchor" href="#multilevel-model-with-compositional-outcomes-"></a>
</h2>
<div class="section level3">
<h3 id="computing-compositions-and-isometric-log-ratio-coordinates-">Computing compositions and isometric log ratio coordinates.<a class="anchor" aria-label="anchor" href="#computing-compositions-and-isometric-log-ratio-coordinates-"></a>
</h3>
<p>The ILR coordinates outcomes can be calculated using the
<code><a href="../reference/compilr.html">compilr()</a></code> functions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cilr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compilr.html">compilr</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mcompd</span>, sbp <span class="op">=</span> <span class="va">sbp</span>,</span>
<span>                parts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TST"</span>, <span class="st">"WAKE"</span>, <span class="st">"MVPA"</span>, <span class="st">"LPA"</span>, <span class="st">"SB"</span><span class="op">)</span>, idvar <span class="op">=</span> <span class="st">"ID"</span>, total <span class="op">=</span> <span class="fl">1440</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cilr</span><span class="op">$</span><span class="va">TotalILR</span><span class="op">)</span></span>
<span><span class="co">#&gt;        ilr1 ilr2    ilr3  ilr4</span></span>
<span><span class="co">#&gt; [1,]  0.287 1.20  0.6270 1.702</span></span>
<span><span class="co">#&gt; [2,] -0.472 1.57 -0.8336 0.984</span></span>
<span><span class="co">#&gt; [3,] -0.486 1.33  1.3344 2.659</span></span>
<span><span class="co">#&gt; [4,] -0.316 1.37 -0.0332 0.551</span></span>
<span><span class="co">#&gt; [5,]  0.205 1.43 -0.6893 0.733</span></span>
<span><span class="co">#&gt; [6,] -0.446 1.16 -0.0950 0.670</span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "rmult"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fitting-model">Fitting model<a class="anchor" aria-label="anchor" href="#fitting-model"></a>
</h3>
<p>A model with multilevel compositional outcomes is multivariate, as it
has multiple ILR coordinate outcomes,each of which is predicted by a set
of predictors. Our <code>brms</code> model can be then fitted using the
<code><a href="../reference/brmcoda.html">brmcoda()</a></code> function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/brmcoda.html">brmcoda</a></span><span class="op">(</span>compilr <span class="op">=</span> <span class="va">cilr</span>,</span>
<span>              formula <span class="op">=</span> <span class="fu"><a href="https://paul-buerkner.github.io/brms/reference/mvbind.html" class="external-link">mvbind</a></span><span class="op">(</span><span class="va">ilr1</span>, <span class="va">ilr2</span>, <span class="va">ilr3</span>, <span class="va">ilr4</span><span class="op">)</span> <span class="op">~</span> <span class="va">Stress</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">ID</span><span class="op">)</span>,</span>
<span>              cores <span class="op">=</span> <span class="fl">8</span>, seed <span class="op">=</span> <span class="fl">123</span>, backend <span class="op">=</span> <span class="st">"cmdstanr"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: In the future, 'rescor' will be set to FALSE by default for all models. It is thus recommended to explicitely set 'rescor'</span></span>
<span><span class="co">#&gt; via 'set_rescor' instead of using the default.</span></span></code></pre></div>
<p>Here is a <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> of the model. We can see that stress
significantly predicted <code>ilr1</code> and <code>ilr2</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mv</span><span class="op">)</span></span>
<span><span class="co">#&gt;  Family: MV(gaussian, gaussian, gaussian, gaussian) </span></span>
<span><span class="co">#&gt;   Links: mu = identity; sigma = identity</span></span>
<span><span class="co">#&gt;          mu = identity; sigma = identity</span></span>
<span><span class="co">#&gt;          mu = identity; sigma = identity</span></span>
<span><span class="co">#&gt;          mu = identity; sigma = identity </span></span>
<span><span class="co">#&gt; Formula: ilr1 ~ Stress + (1 | ID) </span></span>
<span><span class="co">#&gt;          ilr2 ~ Stress + (1 | ID) </span></span>
<span><span class="co">#&gt;          ilr3 ~ Stress + (1 | ID) </span></span>
<span><span class="co">#&gt;          ilr4 ~ Stress + (1 | ID) </span></span>
<span><span class="co">#&gt;    Data: tmp (Number of observations: 3540) </span></span>
<span><span class="co">#&gt;   Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;</span></span>
<span><span class="co">#&gt;          total post-warmup draws = 4000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Group-Level Effects: </span></span>
<span><span class="co">#&gt; ~ID (Number of levels: 266) </span></span>
<span><span class="co">#&gt;                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; sd(ilr1_Intercept)     0.33      0.02     0.30     0.37 1.00     1203     1547</span></span>
<span><span class="co">#&gt; sd(ilr2_Intercept)     0.30      0.01     0.28     0.34 1.00     1097     2116</span></span>
<span><span class="co">#&gt; sd(ilr3_Intercept)     0.39      0.02     0.35     0.43 1.00     1594     2478</span></span>
<span><span class="co">#&gt; sd(ilr4_Intercept)     0.30      0.02     0.27     0.33 1.00     1687     2483</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Population-Level Effects: </span></span>
<span><span class="co">#&gt;                Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; ilr1_Intercept    -0.43      0.02    -0.48    -0.38 1.00     1089     1836</span></span>
<span><span class="co">#&gt; ilr2_Intercept     1.47      0.02     1.42     1.51 1.00      877     2029</span></span>
<span><span class="co">#&gt; ilr3_Intercept    -0.87      0.03    -0.93    -0.82 1.00     1644     2583</span></span>
<span><span class="co">#&gt; ilr4_Intercept     0.65      0.02     0.60     0.70 1.00     1948     2670</span></span>
<span><span class="co">#&gt; ilr1_Stress       -0.01      0.00    -0.02    -0.00 1.00     6441     3679</span></span>
<span><span class="co">#&gt; ilr2_Stress        0.01      0.00     0.00     0.01 1.00     5245     3596</span></span>
<span><span class="co">#&gt; ilr3_Stress        0.00      0.00    -0.01     0.01 1.00     6436     3519</span></span>
<span><span class="co">#&gt; ilr4_Stress        0.01      0.00    -0.00     0.01 1.00     6209     3303</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Family Specific Parameters: </span></span>
<span><span class="co">#&gt;            Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; sigma_ilr1     0.44      0.01     0.43     0.45 1.00     5231     3458</span></span>
<span><span class="co">#&gt; sigma_ilr2     0.38      0.00     0.37     0.39 1.00     5176     3232</span></span>
<span><span class="co">#&gt; sigma_ilr3     0.70      0.01     0.68     0.71 1.00     5339     3388</span></span>
<span><span class="co">#&gt; sigma_ilr4     0.53      0.01     0.51     0.54 1.00     5250     3363</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual Correlations: </span></span>
<span><span class="co">#&gt;                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; rescor(ilr1,ilr2)    -0.54      0.01    -0.57    -0.52 1.00     5202     3296</span></span>
<span><span class="co">#&gt; rescor(ilr1,ilr3)    -0.18      0.02    -0.21    -0.14 1.00     4833     3061</span></span>
<span><span class="co">#&gt; rescor(ilr2,ilr3)    -0.05      0.02    -0.09    -0.02 1.00     5156     3254</span></span>
<span><span class="co">#&gt; rescor(ilr1,ilr4)     0.11      0.02     0.07     0.14 1.00     4910     3445</span></span>
<span><span class="co">#&gt; rescor(ilr2,ilr4)    -0.05      0.02    -0.08    -0.01 1.00     5286     3449</span></span>
<span><span class="co">#&gt; rescor(ilr3,ilr4)     0.56      0.01     0.53     0.58 1.00     5255     3316</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Draws were sampled using sample(hmc). For each parameter, Bulk_ESS</span></span>
<span><span class="co">#&gt; and Tail_ESS are effective sample size measures, and Rhat is the potential</span></span>
<span><span class="co">#&gt; scale reduction factor on split chains (at convergence, Rhat = 1).</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="bayes-factor-for-compositional-multilevel-modelling">Bayes Factor for compositional multilevel modelling<a class="anchor" aria-label="anchor" href="#bayes-factor-for-compositional-multilevel-modelling"></a>
</h2>
<p>We are often interested in whether a predictor significantly predict
the overall composition, in addition to the individual ILR coordinates.
In Bayesian, this can be done by comparing the marginal likelihoods of
two models. Bayes Factors (BFs) are indices of relative evidence of one
model over another. In the context of compositional multilevel
modelling, Bayes Factors provide two main useful functions:</p>
<ul>
<li>Testing single parameters within a model</li>
<li>Comparing models</li>
</ul>
<p>We can utilize Bayes factors to answer the following question:
<em>“Which model (i.e., set of composition predictors, expressed as
ILRs) is more likely to have produced the observed data?”</em></p>
<p>Let’s examine whether stress predicts the overall sleep-wake
composition.</p>
<p><em>Note</em>: To use Bayes factors, <code>brmsfit</code> models must
be fitted with an additional non-default argument
<code>save_pars = save_pars(all = TRUE)</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># intercept only</span></span>
<span><span class="va">mv0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/brmcoda.html">brmcoda</a></span><span class="op">(</span>compilr <span class="op">=</span> <span class="va">cilr</span>,</span>
<span>               formula <span class="op">=</span> <span class="fu"><a href="https://paul-buerkner.github.io/brms/reference/mvbind.html" class="external-link">mvbind</a></span><span class="op">(</span><span class="va">ilr1</span>, <span class="va">ilr2</span>, <span class="va">ilr3</span>, <span class="va">ilr4</span><span class="op">)</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">ID</span><span class="op">)</span>,</span>
<span>               iter <span class="op">=</span> <span class="fl">6000</span>, chains <span class="op">=</span> <span class="fl">8</span>, cores <span class="op">=</span> <span class="fl">8</span>, seed <span class="op">=</span> <span class="fl">123</span>, warmup <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>               backend <span class="op">=</span> <span class="st">"cmdstanr"</span>, save_pars <span class="op">=</span> <span class="fu"><a href="https://paul-buerkner.github.io/brms/reference/save_pars.html" class="external-link">save_pars</a></span><span class="op">(</span>all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: In the future, 'rescor' will be set to FALSE by default for all models. It is thus recommended to explicitely set 'rescor'</span></span>
<span><span class="co">#&gt; via 'set_rescor' instead of using the default.</span></span>
<span><span class="co"># full model</span></span>
<span><span class="va">mv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/brmcoda.html">brmcoda</a></span><span class="op">(</span>compilr <span class="op">=</span> <span class="va">cilr</span>,</span>
<span>              formula <span class="op">=</span> <span class="fu"><a href="https://paul-buerkner.github.io/brms/reference/mvbind.html" class="external-link">mvbind</a></span><span class="op">(</span><span class="va">ilr1</span>, <span class="va">ilr2</span>, <span class="va">ilr3</span>, <span class="va">ilr4</span><span class="op">)</span> <span class="op">~</span> <span class="va">Stress</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">ID</span><span class="op">)</span>,</span>
<span>              iter <span class="op">=</span> <span class="fl">6000</span>, chains <span class="op">=</span> <span class="fl">8</span>, cores <span class="op">=</span> <span class="fl">8</span>, seed <span class="op">=</span> <span class="fl">123</span>, warmup <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>              backend <span class="op">=</span> <span class="st">"cmdstanr"</span>, save_pars <span class="op">=</span> <span class="fu"><a href="https://paul-buerkner.github.io/brms/reference/save_pars.html" class="external-link">save_pars</a></span><span class="op">(</span>all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: In the future, 'rescor' will be set to FALSE by default for all models. It is thus recommended to explicitely set 'rescor'</span></span>
<span><span class="co">#&gt; via 'set_rescor' instead of using the default.</span></span></code></pre></div>
<p>We can now compare these models with the
<code><a href="https://easystats.github.io/bayestestR/reference/bayesfactor_models.html" class="external-link">bayesfactor_models()</a></code> function</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/bridgesampling/man/bf.html" class="external-link">bayes_factor</a></span><span class="op">(</span><span class="va">mv</span><span class="op">$</span><span class="va">Model</span>, <span class="va">mv0</span><span class="op">$</span><span class="va">Model</span><span class="op">)</span></span>
<span><span class="co">#&gt; Iteration: 1</span></span>
<span><span class="co">#&gt; Iteration: 2</span></span>
<span><span class="co">#&gt; Iteration: 3</span></span>
<span><span class="co">#&gt; Iteration: 4</span></span>
<span><span class="co">#&gt; Iteration: 5</span></span>
<span><span class="co">#&gt; Iteration: 6</span></span>
<span><span class="co">#&gt; Iteration: 7</span></span>
<span><span class="co">#&gt; Iteration: 8</span></span>
<span><span class="co">#&gt; Iteration: 9</span></span>
<span><span class="co">#&gt; Iteration: 1</span></span>
<span><span class="co">#&gt; Iteration: 2</span></span>
<span><span class="co">#&gt; Iteration: 3</span></span>
<span><span class="co">#&gt; Iteration: 4</span></span>
<span><span class="co">#&gt; Iteration: 5</span></span>
<span><span class="co">#&gt; Iteration: 6</span></span>
<span><span class="co">#&gt; Iteration: 7</span></span>
<span><span class="co">#&gt; Iteration: 8</span></span>
<span><span class="co">#&gt; Iteration: 9</span></span>
<span><span class="co">#&gt; Iteration: 10</span></span>
<span><span class="co">#&gt; Estimated Bayes factor in favor of mv$Model over mv0$Model: 0.00001</span></span></code></pre></div>
<p>With a <span class="math inline">\(BF\)</span> &lt; 1, our data
favours the intercept only model, showing that there is insufficient
evidence for stress predicting the overall sleep-wake composition.</p>
<p>Bayes factors provide a intuitive measure of the strength of evidence
of one model over the other or among different models. Check out the
<code>bayestestR</code> packages for several other useful functions
related to BFs.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/florale" class="external-link">Flora Le</a>, Joshua F. Wiley.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
