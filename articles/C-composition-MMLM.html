<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/5/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Multilevel Model with Compositional Outcomes • multilevelcoda</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Multilevel Model with Compositional Outcomes">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/5/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">multilevelcoda</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/A-introduction.html">Introduction to Bayesian Compositional Multilevel Modelling</a></li>
    <li><a class="dropdown-item" href="../articles/B-composition-MLM.html">Multilevel Models with Compositional Predictors</a></li>
    <li><a class="dropdown-item" href="../articles/C-composition-MMLM.html">Multilevel Model with Compositional Outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/D-substitution.html">Compositional Substitution Multilevel Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/E-simmodel-diag.html">Improving MCMC Sampling for Bayesian Compositional Multilevel Models</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/florale/multilevelcoda/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>




      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Multilevel Model with Compositional Outcomes</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/florale/multilevelcoda/blob/main/vignettes/C-composition-MMLM.Rmd" class="external-link"><code>vignettes/C-composition-MMLM.Rmd</code></a></small>
      <div class="d-none name"><code>C-composition-MMLM.Rmd</code></div>
    </div>

    
    
<p>In this vignette, we discuss how to specify multilevel models with
compositional outcomes using <code>multilevelcoda</code>. In addition to
<code>multilevelcoda</code>, we will use <code>brms</code> package (to
fit models) and <code>bayestestR</code> package (to compute useful
indices and compare models). We will also attach built in datasets
<code>mcompd</code> (simulated compositional sleep and wake variables)
and <code>sbp</code> (sequential binary partition).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://florale.github.io/multilevelcoda/">multilevelcoda</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/paul-buerkner/brms" class="external-link">brms</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/bayestestR/" class="external-link">bayestestR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"mcompd"</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sbp"</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="multilevel-model-with-compositional-outcomes-">Multilevel model with compositional outcomes.<a class="anchor" aria-label="anchor" href="#multilevel-model-with-compositional-outcomes-"></a>
</h2>
<div class="section level3">
<h3 id="computing-compositions-and-isometric-log-ratio-coordinates-">Computing compositions and isometric log ratio coordinates.<a class="anchor" aria-label="anchor" href="#computing-compositions-and-isometric-log-ratio-coordinates-"></a>
</h3>
<p>The ILR coordinates outcomes can be calculated using the
<code><a href="../reference/complr.html">complr()</a></code> functions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cilr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/complr.html">complr</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mcompd</span>, sbp <span class="op">=</span> <span class="va">sbp</span>,</span>
<span>                parts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TST"</span>, <span class="st">"WAKE"</span>, <span class="st">"MVPA"</span>, <span class="st">"LPA"</span>, <span class="st">"SB"</span><span class="op">)</span>, idvar <span class="op">=</span> <span class="st">"ID"</span>, total <span class="op">=</span> <span class="fl">1440</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cilr</span><span class="op">$</span><span class="va">TotalILR</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fitting-model">Fitting model<a class="anchor" aria-label="anchor" href="#fitting-model"></a>
</h3>
<p>A model with multilevel compositional outcomes is multivariate, as it
has multiple ILR coordinate outcomes,each of which is predicted by a set
of predictors. Our <code>brms</code> model can be then fitted using the
<code><a href="../reference/brmcoda.html">brmcoda()</a></code> function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/brmcoda.html">brmcoda</a></span><span class="op">(</span>complr <span class="op">=</span> <span class="va">cilr</span>,</span>
<span>              formula <span class="op">=</span> <span class="fu"><a href="https://paulbuerkner.com/brms/reference/mvbind.html" class="external-link">mvbind</a></span><span class="op">(</span><span class="va">z1_1</span>, <span class="va">z2_1</span>, <span class="va">z3_1</span>, <span class="va">z4_1</span><span class="op">)</span> <span class="op">~</span> <span class="va">Stress</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">ID</span><span class="op">)</span>,</span>
<span>              cores <span class="op">=</span> <span class="fl">8</span>, seed <span class="op">=</span> <span class="fl">123</span>, backend <span class="op">=</span> <span class="st">"cmdstanr"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: In the future, 'rescor' will be set to FALSE by default for all models. It is thus</span></span>
<span><span class="co">#&gt; recommended to explicitely set 'rescor' via 'set_rescor' instead of using the default.</span></span></code></pre></div>
<p>Here is a <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> of the model. We can see that stress
significantly predicted <code>z1_1</code> and <code>z2_1</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mv</span><span class="op">)</span></span>
<span><span class="co">#&gt;  Family: MV(gaussian, gaussian, gaussian, gaussian) </span></span>
<span><span class="co">#&gt;   Links: mu = identity; sigma = identity</span></span>
<span><span class="co">#&gt;          mu = identity; sigma = identity</span></span>
<span><span class="co">#&gt;          mu = identity; sigma = identity</span></span>
<span><span class="co">#&gt;          mu = identity; sigma = identity </span></span>
<span><span class="co">#&gt; Formula: z1_1 ~ Stress + (1 | ID) </span></span>
<span><span class="co">#&gt;          z2_1 ~ Stress + (1 | ID) </span></span>
<span><span class="co">#&gt;          z3_1 ~ Stress + (1 | ID) </span></span>
<span><span class="co">#&gt;          z4_1 ~ Stress + (1 | ID) </span></span>
<span><span class="co">#&gt;    Data: tmp (Number of observations: 3540) </span></span>
<span><span class="co">#&gt;   Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;</span></span>
<span><span class="co">#&gt;          total post-warmup draws = 4000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Multilevel Hyperparameters:</span></span>
<span><span class="co">#&gt; ~ID (Number of levels: 266) </span></span>
<span><span class="co">#&gt;                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; sd(z1_1_Intercept)     0.33      0.02     0.30     0.37 1.00     1228     2060</span></span>
<span><span class="co">#&gt; sd(z2_1_Intercept)     0.30      0.01     0.28     0.33 1.00     1134     1929</span></span>
<span><span class="co">#&gt; sd(z3_1_Intercept)     0.39      0.02     0.35     0.43 1.00     1731     2763</span></span>
<span><span class="co">#&gt; sd(z4_1_Intercept)     0.30      0.02     0.27     0.33 1.00     1710     2483</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regression Coefficients:</span></span>
<span><span class="co">#&gt;                Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; z1_1_Intercept    -0.44      0.02    -0.48    -0.39 1.00      942     1598</span></span>
<span><span class="co">#&gt; z2_1_Intercept     1.47      0.02     1.42     1.51 1.01      876     1608</span></span>
<span><span class="co">#&gt; z3_1_Intercept    -0.88      0.03    -0.94    -0.82 1.00     1740     2565</span></span>
<span><span class="co">#&gt; z4_1_Intercept     0.65      0.02     0.60     0.69 1.00     1648     2562</span></span>
<span><span class="co">#&gt; z1_1_Stress       -0.01      0.00    -0.02    -0.00 1.00     5967     3302</span></span>
<span><span class="co">#&gt; z2_1_Stress        0.01      0.00     0.00     0.01 1.00     5446     3533</span></span>
<span><span class="co">#&gt; z3_1_Stress        0.00      0.01    -0.01     0.01 1.00     6975     3101</span></span>
<span><span class="co">#&gt; z4_1_Stress        0.01      0.00    -0.00     0.01 1.00     6794     3387</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Further Distributional Parameters:</span></span>
<span><span class="co">#&gt;            Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; sigma_z1_1     0.44      0.01     0.43     0.45 1.00     6228     3088</span></span>
<span><span class="co">#&gt; sigma_z2_1     0.38      0.00     0.37     0.39 1.00     6496     3182</span></span>
<span><span class="co">#&gt; sigma_z3_1     0.70      0.01     0.68     0.71 1.00     5403     3385</span></span>
<span><span class="co">#&gt; sigma_z4_1     0.53      0.01     0.51     0.54 1.00     5484     3418</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual Correlations: </span></span>
<span><span class="co">#&gt;                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; rescor(z1_1,z2_1)    -0.54      0.01    -0.57    -0.52 1.00     5503     3659</span></span>
<span><span class="co">#&gt; rescor(z1_1,z3_1)    -0.18      0.02    -0.21    -0.14 1.00     5662     3335</span></span>
<span><span class="co">#&gt; rescor(z2_1,z3_1)    -0.05      0.02    -0.08    -0.02 1.00     4974     3475</span></span>
<span><span class="co">#&gt; rescor(z1_1,z4_1)     0.11      0.02     0.07     0.14 1.00     6096     3480</span></span>
<span><span class="co">#&gt; rescor(z2_1,z4_1)    -0.05      0.02    -0.08    -0.01 1.00     5544     3305</span></span>
<span><span class="co">#&gt; rescor(z3_1,z4_1)     0.56      0.01     0.54     0.58 1.00     5224     3252</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Draws were sampled using sample(hmc). For each parameter, Bulk_ESS</span></span>
<span><span class="co">#&gt; and Tail_ESS are effective sample size measures, and Rhat is the potential</span></span>
<span><span class="co">#&gt; scale reduction factor on split chains (at convergence, Rhat = 1).</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="bayes-factor-for-compositional-multilevel-modelling">Bayes Factor for compositional multilevel modelling<a class="anchor" aria-label="anchor" href="#bayes-factor-for-compositional-multilevel-modelling"></a>
</h2>
<p>We are often interested in whether a predictor significantly predict
the overall composition, in addition to the individual ILR coordinates.
In Bayesian, this can be done by comparing the marginal likelihoods of
two models. Bayes Factors (BFs) are indices of relative evidence of one
model over another. In the context of compositional multilevel
modelling, Bayes Factors provide two main useful functions:</p>
<ul>
<li>Testing single parameters within a model</li>
<li>Comparing models</li>
</ul>
<p>We can utilize Bayes factors to answer the following question:
<em>“Which model (i.e., set of composition predictors, expressed as
ILRs) is more likely to have produced the observed data?”</em></p>
<p>Let’s examine whether stress predicts the overall sleep-wake
composition.</p>
<p><em>Note</em>: To use Bayes factors, <code>brmsfit</code> models must
be fitted with an additional non-default argument
<code>save_pars = save_pars(all = TRUE)</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># intercept only</span></span>
<span><span class="va">mv0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/brmcoda.html">brmcoda</a></span><span class="op">(</span>complr <span class="op">=</span> <span class="va">cilr</span>,</span>
<span>               formula <span class="op">=</span> <span class="fu"><a href="https://paulbuerkner.com/brms/reference/mvbind.html" class="external-link">mvbind</a></span><span class="op">(</span><span class="va">z1_1</span>, <span class="va">z2_1</span>, <span class="va">z3_1</span>, <span class="va">z4_1</span><span class="op">)</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">ID</span><span class="op">)</span>,</span>
<span>               iter <span class="op">=</span> <span class="fl">6000</span>, chains <span class="op">=</span> <span class="fl">8</span>, cores <span class="op">=</span> <span class="fl">8</span>, seed <span class="op">=</span> <span class="fl">123</span>, warmup <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>               backend <span class="op">=</span> <span class="st">"cmdstanr"</span>, save_pars <span class="op">=</span> <span class="fu"><a href="https://paulbuerkner.com/brms/reference/save_pars.html" class="external-link">save_pars</a></span><span class="op">(</span>all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: In the future, 'rescor' will be set to FALSE by default for all models. It is thus</span></span>
<span><span class="co">#&gt; recommended to explicitely set 'rescor' via 'set_rescor' instead of using the default.</span></span>
<span><span class="co"># full model</span></span>
<span><span class="va">mv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/brmcoda.html">brmcoda</a></span><span class="op">(</span>complr <span class="op">=</span> <span class="va">cilr</span>,</span>
<span>              formula <span class="op">=</span> <span class="fu"><a href="https://paulbuerkner.com/brms/reference/mvbind.html" class="external-link">mvbind</a></span><span class="op">(</span><span class="va">z1_1</span>, <span class="va">z2_1</span>, <span class="va">z3_1</span>, <span class="va">z4_1</span><span class="op">)</span> <span class="op">~</span> <span class="va">Stress</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">ID</span><span class="op">)</span>,</span>
<span>              iter <span class="op">=</span> <span class="fl">6000</span>, chains <span class="op">=</span> <span class="fl">8</span>, cores <span class="op">=</span> <span class="fl">8</span>, seed <span class="op">=</span> <span class="fl">123</span>, warmup <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>              backend <span class="op">=</span> <span class="st">"cmdstanr"</span>, save_pars <span class="op">=</span> <span class="fu"><a href="https://paulbuerkner.com/brms/reference/save_pars.html" class="external-link">save_pars</a></span><span class="op">(</span>all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: In the future, 'rescor' will be set to FALSE by default for all models. It is thus</span></span>
<span><span class="co">#&gt; recommended to explicitely set 'rescor' via 'set_rescor' instead of using the default.</span></span></code></pre></div>
<p>We can now compare these models with the
<code>bayesfactor_models()</code> function</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/bridgesampling/man/bf.html" class="external-link">bayes_factor</a></span><span class="op">(</span><span class="va">mv</span><span class="op">$</span><span class="va">model</span>, <span class="va">mv0</span><span class="op">$</span><span class="va">model</span><span class="op">)</span></span>
<span><span class="co">#&gt; Iteration: 1</span></span>
<span><span class="co">#&gt; Iteration: 2</span></span>
<span><span class="co">#&gt; Iteration: 3</span></span>
<span><span class="co">#&gt; Iteration: 4</span></span>
<span><span class="co">#&gt; Iteration: 5</span></span>
<span><span class="co">#&gt; Iteration: 6</span></span>
<span><span class="co">#&gt; Iteration: 7</span></span>
<span><span class="co">#&gt; Iteration: 8</span></span>
<span><span class="co">#&gt; Iteration: 9</span></span>
<span><span class="co">#&gt; Iteration: 10</span></span>
<span><span class="co">#&gt; Iteration: 11</span></span>
<span><span class="co">#&gt; Iteration: 12</span></span>
<span><span class="co">#&gt; Iteration: 13</span></span>
<span><span class="co">#&gt; Iteration: 14</span></span>
<span><span class="co">#&gt; Iteration: 15</span></span>
<span><span class="co">#&gt; Iteration: 16</span></span>
<span><span class="co">#&gt; Iteration: 17</span></span>
<span><span class="co">#&gt; Iteration: 18</span></span>
<span><span class="co">#&gt; Iteration: 19</span></span>
<span><span class="co">#&gt; Iteration: 1</span></span>
<span><span class="co">#&gt; Iteration: 2</span></span>
<span><span class="co">#&gt; Iteration: 3</span></span>
<span><span class="co">#&gt; Iteration: 4</span></span>
<span><span class="co">#&gt; Iteration: 5</span></span>
<span><span class="co">#&gt; Iteration: 6</span></span>
<span><span class="co">#&gt; Iteration: 7</span></span>
<span><span class="co">#&gt; Iteration: 8</span></span>
<span><span class="co">#&gt; Iteration: 9</span></span>
<span><span class="co">#&gt; Iteration: 10</span></span>
<span><span class="co">#&gt; Iteration: 11</span></span>
<span><span class="co">#&gt; Iteration: 12</span></span>
<span><span class="co">#&gt; Iteration: 13</span></span>
<span><span class="co">#&gt; Iteration: 14</span></span>
<span><span class="co">#&gt; Iteration: 15</span></span>
<span><span class="co">#&gt; Iteration: 16</span></span>
<span><span class="co">#&gt; Iteration: 17</span></span>
<span><span class="co">#&gt; Iteration: 18</span></span>
<span><span class="co">#&gt; Iteration: 19</span></span>
<span><span class="co">#&gt; Iteration: 20</span></span>
<span><span class="co">#&gt; Estimated Bayes factor in favor of mv$model over mv0$model: 0.00015</span></span></code></pre></div>
<p>With a
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">BF</annotation></semantics></math>
&lt; 1, our data favours the intercept only model, showing that there is
insufficient evidence for stress predicting the overall sleep-wake
composition.</p>
<p>Bayes factors provide a intuitive measure of the strength of evidence
of one model over the other or among different models. Check out the
<code>bayestestR</code> packages for several other useful functions
related to BFs.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/florale" class="external-link">Flora Le</a>, Joshua F. Wiley.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

    </footer>
</div>





  </body>
</html>
